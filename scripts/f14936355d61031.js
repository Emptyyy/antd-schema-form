(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{746:function(e,t,r){e.exports={mediaMb10:"_2wnHUb",mb10:"_24fr0v",mr10:"_BvgMEI",collapse:"_361_16",fl:"_2T7MO1",title:"_1keLZ-",fr:"_1eBus7",info:"__L1eht",children:"__lB4U1",typeSelect:"_3defOH"}},748:function(e,t,r){"use strict";var i=r(19),o=r(20),a=r(21),n=r(22),s=r(49),l=r(23),p=r(31),d=r(1),c=r.n(d),u=r(0),m=r.n(u);t.a=function(e){return function(t){var r,u;return u=r=function(r){function p(){var t,r,o;Object(i.a)(this,p),o=Object(a.a)(this,Object(n.a)(p).apply(this,arguments));var l=(null===(t=Object(s.a)(o))||void 0===t?void 0:null===(r=t.props)||void 0===r?void 0:r.injectReducers)||null;return l&&l(e),o}return Object(l.a)(p,r),Object(o.a)(p,[{key:"render",value:function(){return c.a.createElement(t,null)}}]),p}(d.Component),Object(p.a)(r,"propTypes",{injectReducers:m.a.func}),u}}},750:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r(742);var i=r(743);function o(e,t,r){var o=document.createRange(),a=window.getSelection();o.selectNode(document.getElementById(e)),a.rangeCount>0&&a.removeAllRanges(),a.addRange(o),document.execCommand("copy"),i.a.info(t)}},763:function(e){e.exports={id:"$root",type:"object",title:"String type",properties:{id:{id:"$root/properties/id",type:"string",title:"The id of the current attribute",$required:!0},type:{id:"$root/properties/type",type:"string",title:"Type of data",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"Title, used to describe the role of the keyword",$required:!0},description:{id:"$root/properties/description",type:"string",title:"Description, used to describe the role of the keyword"},$required:{id:"$root/properties/$required",type:"boolean",title:"Value must exist"},$requiredMessage:{id:"$root/properties/$requiredMessage",type:"string",title:"Customize the verification prompt for $required"},pattern:{id:"$root/properties/pattern",type:"string",title:"Regular expression verification"},$patternOption:{id:"$root/properties/$patternOption",type:"string",title:"Specify global, case-sensitive, and multi-line matching"},$patternMessage:{id:"$root/properties/$patternMessage",type:"string",title:"Custom pattern verification failure prompt message"},minLength:{id:"$root/properties/minLength",type:"number",title:"Minimum length verification of strings"},$minLengthMessage:{id:"$root/properties/$minLengthMessage",type:"string",title:"Customize minLength's verification failure prompt message"},maxLength:{id:"$root/properties/maxLength",type:"number",title:"Maximum length verification of strings"},$maxLengthMessage:{id:"$root/properties/$maxLengthMessage",type:"string",title:"Customize maxLength's verification failure prompt message"},$length:{id:"$root/properties/$length",type:"number",title:"Specified length verification of the string"},$lengthMessage:{id:"$root/properties/$lengthMessage",type:"string",title:"Customization of $length verification failure message"},enum:{id:"$root/properties/enum",type:"array",title:"Verify that the value of the form control must be in the array value of this keyword",items:{id:"$root/properties/enum/items",type:"string",title:"关键值",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"Custom enum verification failure message"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"Form control read only"},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"Hide form fields (form values still exist)"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"Placeholder property of a form control"},$defaultValue:{id:"$root/properties/$defaultValue",type:"string",title:"Default value of the form"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"Render as other components",$componentType:"select",$options:[{label:"Text field",value:"textArea"},{label:"Drop down box",value:"select"},{label:"Single box",value:"radio"},{label:"Date selector",value:"date"},{label:"Password input",value:"password"}]},$options:{id:"$root/properties/$options",type:"array",title:"Optional option",items:{id:"$root/properties/$options/items",type:"object",title:"Optional option",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"Displayed text",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"Value",$required:!0}}}}}}},764:function(e){e.exports={id:"$root",type:"object",title:"Number type",properties:{id:{id:"$root/properties/id",type:"string",title:"The id of the current attribute",$required:!0},type:{id:"$root/properties/type",type:"string",title:"Type of data",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"Title, used to describe the role of the keyword",$required:!0},description:{id:"$root/properties/description",type:"string",title:"Description, used to describe the role of the keyword"},$required:{id:"$root/properties/$required",type:"boolean",title:"Value must exist"},minimum:{id:"$root/properties/minimum",type:"number",title:"Form minimum value"},$minimumMessage:{id:"$root/properties/$minimumMessage",type:"string",title:"Customize the verification failure prompt message"},maximum:{id:"$root/properties/maximum",type:"number",title:"Form maximum value"},$maximumMessage:{id:"$root/properties/$maximumMessage",type:"string",title:"Customize the verification failure message for maximum"},$integer:{id:"$root/properties/$integer",type:"boolean",title:"Must be an integer"},$integerMessage:{id:"$root/properties/$integerMessage",type:"string",title:"Customized $integer validation failure message"},enum:{id:"$root/properties/enum",type:"array",title:"Verify that the value of the form control must be in the array value of this keyword",items:{id:"$root/properties/enum/items",type:"number",title:"Key value",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"Custom enum verification failure message"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"Form control read only"},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"Hide form fields (form values still exist)"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"Placeholder property of a form control"},$defaultValue:{id:"$root/properties/$defaultValue",type:"number",title:"Default value of the form"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"Render as other components",$componentType:"select",$options:[{label:"Single box",value:"radio"}]},$options:{id:"$root/properties/$options",type:"array",title:"Optional option",items:{id:"$root/properties/$options/items",type:"object",title:"Optional option",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"Displayed text",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"number",title:"Value",$required:!0}}}}}}},765:function(e){e.exports={id:"$root",type:"object",title:"Boolean type",properties:{id:{id:"$root/properties/id",type:"string",title:"The id of the current attribute",$required:!0},type:{id:"$root/properties/type",type:"string",title:"Type of data",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"Title, used to describe the role of the keyword",$required:!0},description:{id:"$root/properties/description",type:"string",title:"Description, used to describe the role of the keyword"},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"Hide form fields (form values still exist)"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},$defaultValue:{id:"$root/properties/$defaultValue",type:"boolean",title:"Default value of the form"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"Render as other components",$componentType:"select",$options:[{label:"Switch",value:"switch"}]}}}},766:function(e){e.exports={id:"$root",type:"object",title:"Boolean type",properties:{id:{id:"$root/properties/id",type:"string",title:"The id of the current attribute",$required:!0},type:{id:"$root/properties/type",type:"string",title:"Type of data",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"Title, used to describe the role of the keyword",$required:!0},description:{id:"$root/properties/description",type:"string",title:"Description, used to describe the role of the keyword"},required:{id:"$root/properties/required",type:"array",title:"The attributes that the object must contain",items:{id:"$root/properties/required/items",type:"string",title:"The attributes that the object must contain",$required:!0}}}}},767:function(e){e.exports={id:"$root",type:"object",title:"Array type",properties:{id:{id:"$root/properties/id",type:"string",title:"The id of the current attribute",$required:!0},type:{id:"$root/properties/type",type:"string",title:"Type of data",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"Title, used to describe the role of the keyword",$required:!0},description:{id:"$root/properties/description",type:"string",title:"Description, used to describe the role of the keyword"},minItems:{id:"$root/properties/minItems",type:"number",title:"The minimum value of the form"},$minimumMessage:{id:"$root/properties/$minimumMessage",type:"string",title:"Customize the verification failure message for the minimum"},maximum:{id:"$root/properties/maximum",type:"number",title:"The maximum value of the form"},$maximumMessage:{id:"$root/properties/$maximumMessage",type:"string",title:"Customize the verification failure message for maximum"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"Render as other components",$componentType:"select",$options:[{label:"Checkbox",value:"checkbox"},{label:"Multi-select mode of drop-down box",value:"multiple"},{label:"Multi-select mode for drop-down box, and you can enter text",value:"tags"}]},$options:{id:"$root/properties/$options",type:"array",title:"Optional option",items:{id:"$root/properties/$options/items",type:"object",title:"Optional option",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"Displayed text",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"Value",$required:!0}}}},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"Hide form fields (form values still exist)"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},$addDataInReverseOrder:{id:"$root/properties/$addDataInReverseOrder",type:"boolean",title:"Add data to the head of the array"}}}},768:function(e){e.exports={id:"$root",type:"object",title:"string类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$required:{id:"$root/properties/$required",type:"boolean",title:"值必须存在"},$requiredMessage:{id:"$root/properties/$requiredMessage",type:"string",title:"自定义$required的验证提示信息"},pattern:{id:"$root/properties/pattern",type:"string",title:"正则表达式验证"},$patternOption:{id:"$root/properties/$patternOption",type:"string",title:"指定全局匹配、区分大小写的匹配和多行匹配"},$patternMessage:{id:"$root/properties/$patternMessage",type:"string",title:"自定义pattern的验证失败提示信息"},minLength:{id:"$root/properties/minLength",type:"number",title:"字符串的最小长度验证"},$minLengthMessage:{id:"$root/properties/$minLengthMessage",type:"string",title:"自定义minLength的验证失败提示信息"},maxLength:{id:"$root/properties/maxLength",type:"number",title:"字符串的最大长度验证"},$maxLengthMessage:{id:"$root/properties/$maxLengthMessage",type:"string",title:"自定义maxLength的验证失败提示信息"},$length:{id:"$root/properties/$length",type:"number",title:"字符串的指定长度验证"},$lengthMessage:{id:"$root/properties/$lengthMessage",type:"string",title:"自定义$length的验证失败提示信息"},enum:{id:"$root/properties/enum",type:"array",title:"验证表单控件的值必须在此关键字的数组值中",items:{id:"$root/properties/enum/items",type:"string",title:"关键值",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"自定义enum的验证失败信息"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"表单控件只读"},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"隐藏表单域（表单值仍然存在）"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"表单控件的placeholder属性"},$defaultValue:{id:"$root/properties/$defaultValue",type:"string",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"文本域",value:"textArea"},{label:"下拉框",value:"select"},{label:"单选框",value:"radio"},{label:"日期选择器",value:"date"},{label:"密码输入",value:"password"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"值",$required:!0}}}}}}},769:function(e){e.exports={id:"$root",type:"object",title:"number类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$required:{id:"$root/properties/$required",type:"boolean",title:"值必须存在"},minimum:{id:"$root/properties/minimum",type:"number",title:"表单的最小值"},$minimumMessage:{id:"$root/properties/$minimumMessage",type:"string",title:"自定义minimum的验证失败提示信息"},maximum:{id:"$root/properties/maximum",type:"number",title:"表单的最大值"},$maximumMessage:{id:"$root/properties/$maximumMessage",type:"string",title:"自定义maximum的验证失败提示信息"},$integer:{id:"$root/properties/$integer",type:"boolean",title:"必须是整数"},$integerMessage:{id:"$root/properties/$integerMessage",type:"string",title:"自定义$integer的验证失败提示信息"},enum:{id:"$root/properties/enum",type:"array",title:"验证表单控件的值必须在此关键字的数组值中",items:{id:"$root/properties/enum/items",type:"number",title:"关键值",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"自定义enum的验证失败信息"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"表单控件只读"},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"隐藏表单域（表单值仍然存在）"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"表单控件的placeholder属性"},$defaultValue:{id:"$root/properties/$defaultValue",type:"number",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"单选框",value:"radio"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"number",title:"值",$required:!0}}}}}}},770:function(e){e.exports={id:"$root",type:"object",title:"boolean类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"隐藏表单域（表单值仍然存在）"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},$defaultValue:{id:"$root/properties/$defaultValue",type:"boolean",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"开关",value:"switch"}]}}}},771:function(e){e.exports={id:"$root",type:"object",title:"boolean类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},required:{id:"$root/properties/required",type:"array",title:"对象必须包含的属性",items:{id:"$root/properties/required/items",type:"string",title:"对象必须包含的属性",$required:!0}}}}},772:function(e){e.exports={id:"$root",type:"object",title:"array类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},minItems:{id:"$root/properties/minItems",type:"number",title:"数组内元素的最小数量"},$minimumMessage:{id:"$root/properties/$minimumMessage",type:"string",title:"自定义minItems的验证失败提示信息"},maximum:{id:"$root/properties/maximum",type:"number",title:"数组内元素的最大数量"},$maximumMessage:{id:"$root/properties/$maximumMessage",type:"string",title:"自定义maxItems的验证失败提示信息"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"多选框",value:"checkbox"},{label:"下拉框的多选模式",value:"multiple"},{label:"下拉框的多选模式，并且可以输入文字",value:"tags"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"值",$required:!0}}}},$hidden:{id:"$root/properties/$hidden",type:"boolean",title:"隐藏表单域（表单值仍然存在）"},$tableColumnHidden:{id:"$root/properties/$tableColumnHidden",type:"boolean",title:"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},$addDataInReverseOrder:{id:"$root/properties/$addDataInReverseOrder",type:"boolean",title:"数据添加到数组的头部"}}}},776:function(e,t,r){"use strict";r.r(t);var i,o,a,n=r(19),s=r(20),l=r(21),p=r(22),d=r(23),c=r(31),u=r(1),m=r.n(u),$=r(72),y=r(278),b=r.n(y),h=r(748),g=r(774),f=r(773),v=r(139),O={schemaJson:Object(v.Map)({id:"$root",type:"object",title:"$root",properties:{}})},j=Object(g.a)("表单生成-schemaJson"),x={createForm:Object(f.a)(Object(c.a)({},j,function(e,t){return e.set("schemaJson",Object(v.Map)(t.payload))}),Object(v.fromJS)(O))},k=(r(396),r(281)),C=(r(397),r(259)),E=r(746),w=r.n(E),q=(r(154),r(81)),T=(r(108),r(26)),M=r(29),D=r.n(M),S=r(248),V=r.n(S),J=(r(742),r(743)),A=r(49),I=r(0),L=r.n(I),F=r(118),H=r(276),R=r(747),P=r(3),N=r.n(P),z=r(750),_=r(61),B=Object(R.b)({schemaJson:Object(R.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return e?e.get("schemaJson").toJS():{}})}),U=Object(H.b)(B,function(e){return{actions:Object(F.b)({setSchemaJson:j},e)}})((a=o=function(e){function t(){var e;Object(n.a)(this,t),e=Object(l.a)(this,Object(p.a)(t).apply(this,arguments)),Object(c.a)(Object(A.a)(e),"handleInputTextAreaChange",function(t){e.setState({textAreaValue:t.target.value})}),Object(c.a)(Object(A.a)(e),"handleRedoJsonSchema",function(t){var r=e.state.textAreaValue,i=e.props.actions,o=e.context.languagePack.message,a=null;try{a=JSON.parse(r),i.setSchemaJson(a)}catch(n){J.a.error(o.jsonFormatError)}});var r=e.props.schemaJson;return e.state={schemaJson:r,textAreaValue:V()(r,null,2)},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.textAreaValue,t=this.context.languagePack,r=t.createForm,i=t.message;return m.a.createElement(u.Fragment,null,m.a.createElement("div",null,m.a.createElement(T.a,{className:N()(w.a.mr10,w.a.mb10),icon:"copy",onClick:D()(z.a).call(z.a,this,"jsonSchemaTextArea",i.copyMessage)},r.copy),m.a.createElement(T.a,{className:w.a.mb10,icon:"redo",onClick:this.handleRedoJsonSchema},r.refreshFormConfiguration)),m.a.createElement(q.a.TextArea,{id:"jsonSchemaTextArea",rows:20,value:e,onChange:this.handleInputTextAreaChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.schemaJson!==t.schemaJson){var r=e.schemaJson;return{schemaJson:r,textAreaValue:V()(r,null,2)}}return null}}]),t}(u.Component),Object(c.a)(o,"contextType",_.b),Object(c.a)(o,"propTypes",{schemaJson:L.a.object,actions:L.a.objectOf(L.a.func)}),i=a))||i,G=(r(280),r(206),r(157),r(754)),K=r.n(G),Z=(r(401),r(262)),Q=r(101),W=(r(402),r(365)),X=r(58),Y=r.n(X),ee=r(28),te=r.n(ee),re=r(119),ie=r(775),oe={default:{string:r(763),number:r(764),boolean:r(765),object:r(766),array:r(767)},"zh-cn":{string:r(768),number:r(769),boolean:r(770),object:r(771),array:r(772)}},ae=(r(398),r(282)),ne=(r(153),r(44)),se=r(275),le=(r(395),r(158)),pe=r(159),de=function(e){function t(){var e,r,i;Object(n.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,te()(r=[this]).call(r,a))),Object(c.a)(Object(A.a)(i),"formRef",Object(u.createRef)()),Object(c.a)(Object(A.a)(i),"state",{typeValue:null,value:null,item:null}),Object(c.a)(Object(A.a)(i),"handleTypeSelect",function(e,t){i.setState({typeValue:e},function(){i.formRef.current.setFieldsValue({"$root/properties/type":e})})}),i}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,i=e.onCancel,o=e.item,a=this.state,n=a.typeValue,s=a.value,l=this.context,p=l.language,d=l.languagePack.createForm,c=p in oe?oe[p]:oe.default;return null!==n&&(c[n].properties.id.$readOnly=o&&"array"===o.type),m.a.createElement(ae.a,{visible:t,width:800,destroyOnClose:!0,maskClosable:!1,onClose:i},m.a.createElement("div",{className:w.a.mb10},m.a.createElement("label",{className:w.a.mr10},d.drawerLabel),m.a.createElement(ne.a,{className:w.a.typeSelect,value:n,onSelect:this.handleTypeSelect},m.a.createElement(ne.a.Option,{key:"string",value:"string"},d.selectOptions[0]),m.a.createElement(ne.a.Option,{key:"number",value:"number"},d.selectOptions[1]),m.a.createElement(ne.a.Option,{key:"boolean",value:"boolean"},d.selectOptions[2]),m.a.createElement(ne.a.Option,{key:"array",value:"array"},d.selectOptions[3]),m.a.createElement(ne.a.Option,{key:"object",value:"object"},d.selectOptions[4]))),n?m.a.createElement(se.a,{ref:this.formRef,json:c[n],value:s,languagePack:"zh-cn"===p?pe:le,onOk:r,onCancel:i}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.visible?{typeValue:null}:e.item&&!0===e.visible&&e.item!==t.item?{value:{$root:{id:"array"===e.item.type?"items":null}},item:e.item}:null}}]),t}(u.Component);Object(c.a)(de,"contextType",_.b),Object(c.a)(de,"propTypes",{item:L.a.object,visible:L.a.bool,onOk:L.a.func,onCancel:L.a.func});var ce=de,ue=(r(279),r(403),function(e){function t(){var e,r,i;Object(n.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,te()(r=[this]).call(r,a))),Object(c.a)(Object(A.a)(i),"formRef",Object(u.createRef)()),Object(c.a)(Object(A.a)(i),"handleTypeSelect",function(e,t){i.setState({typeValue:e},function(){i.formRef.current.setFieldsValue({"$root/properties/type":e})})}),i}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,i=e.onCancel,o=this.state,a=o.typeValue,n=o.value,s=this.context,l=s.language,p=s.languagePack.createForm,d=l in oe?oe[l]:oe.default;return null!==a&&(d[a].properties.id.$readOnly=!0),m.a.createElement(ae.a,{visible:t,width:800,destroyOnClose:!0,maskClosable:!1,onClose:i},m.a.createElement("div",{className:w.a.mb10},m.a.createElement("label",{className:w.a.mr10},p.drawerLabel),m.a.createElement(ne.a,{className:w.a.typeSelect,value:a,onSelect:this.handleTypeSelect},m.a.createElement(ne.a.Option,{key:"string",value:"string"},p.selectOptions[0]),m.a.createElement(ne.a.Option,{key:"number",value:"number"},p.selectOptions[1]),m.a.createElement(ne.a.Option,{key:"boolean",value:"boolean"},p.selectOptions[2]),m.a.createElement(ne.a.Option,{key:"array",value:"array"},p.selectOptions[3]),m.a.createElement(ne.a.Option,{key:"object",value:"object"},p.selectOptions[4]))),a?m.a.createElement(se.a,{ref:this.formRef,json:d[a],value:n,languagePack:"zh-cn"===l?pe:le,onOk:r,onCancel:i}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!1===e.visible)return{typeValue:null};if(e.item&&!0===e.visible&&e.item!==t.item){var r=e.item.id.split("/");return{typeValue:e.item.type,value:{$root:Object(re.a)({},e.item,{id:r[r.length-1]})},item:e.item}}return null}}]),t}(u.Component));Object(c.a)(ue,"contextType",_.b),Object(c.a)(ue,"propTypes",{item:L.a.object,visible:L.a.bool,onOk:L.a.func,onCancel:L.a.func});var me,$e,ye,be=ue,he=Object(R.b)({schemaJson:Object(R.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return e?e.get("schemaJson").toJS():{}})}),ge=Object(H.b)(he,function(e){return{actions:Object(F.b)({setSchemaJson:j},e)}})((ye=$e=function(e){function t(){var e;Object(n.a)(this,t),e=Object(l.a)(this,Object(p.a)(t).apply(this,arguments)),Object(c.a)(Object(A.a)(e),"handleOkAddDrawerClick",function(t,r,i){var o,a=e.state,n=a.schemaJson,s=a.addItem,l=r.$root,p=l.id,d=Object(ie.a)(l,["id"]);"object"===s.type?("properties"in s||(s.properties={}),s.properties[p]=Object(re.a)({id:te()(o="".concat(s.id,"/properties/")).call(o,p)},d)):"array"===s.type&&(s.items=Object(re.a)({id:"".concat(s.id,"/items")},d));e.props.actions.setSchemaJson(n),e.setState({isAddDrawerDisplay:!1,addItem:null})}),Object(c.a)(Object(A.a)(e),"handleOkEditDrawerClick",function(t,r,i){var o=e.state,a=o.schemaJson,n=o.editItem,s=r.$root,l=(s.id,Object(ie.a)(s,["id"]));"object"===n.type?delete n.items:"array"===n.type&&delete n.properties,Y()(n,l),e.props.actions.setSchemaJson(a),e.setState({isEditDrawerDisplay:!1,editItem:null})});var r=e.props.schemaJson;return e.state={schemaJson:r,isAddDrawerDisplay:!1,isEditDrawerDisplay:!1,addItem:null,editItem:null},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleCloseDrawerClick",value:function(e,t,r){var i;this.setState((i={},Object(c.a)(i,e,null),Object(c.a)(i,t,!1),i))}},{key:"handleOpenAddDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isAddDrawerDisplay:!0,addItem:e})}},{key:"handleOpenEditDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isEditDrawerDisplay:!0,editItem:e})}},{key:"findAndDelete",value:function(e,t,r,i){if(t.id===e&&r&&i)delete r[i];else if("object"!==t.type)"array"!==t.type||this.findAndDelete(e,t.items,t,"items");else for(var o in t.properties)this.findAndDelete(e,t.properties[o],t.properties,o)}},{key:"handleDeleteItemClick",value:function(e,t){t.stopPropagation();var r=e.id,i=this.state.schemaJson;this.findAndDelete(r,i),this.props.actions.setSchemaJson(i)}},{key:"typeTagView",value:function(e){switch(e){case"object":return m.a.createElement(W.a,{color:"magenta"},"object");case"array":return m.a.createElement(W.a,{color:"red"},"array");case"string":return m.a.createElement(W.a,{color:"blue"},"string");case"number":return m.a.createElement(W.a,{color:"purple"},"number");case"boolean":return m.a.createElement(W.a,{color:"orange"},"boolean");default:return null}}},{key:"infoTableView",value:function(e){var t=[],r=e.type,i=this.context.language,o=i in oe?oe[i]:oe.default;for(var a in o[r].properties)if(a in e){var n=e[a];if(null==n)continue;"boolean"==typeof n?n=String(n):"object"===Object(Q.a)(n)&&(n=Object.prototype.toString.call(n)),t.push(m.a.createElement("tr",{key:a},m.a.createElement("th",null,a),m.a.createElement("td",null,n)))}return m.a.createElement("table",{className:w.a.info},m.a.createElement("tbody",null,t))}},{key:"collapseListView",value:function(e,t){var r,i,o,a=e.type,n=e.title,s=this.context.languagePack.createForm,l=[m.a.createElement(Z.a,{key:"collapse",bordered:!1},m.a.createElement(Z.a.Panel,{header:m.a.createElement("div",{className:"clearfix"},m.a.createElement("div",{className:w.a.fl},m.a.createElement("b",{className:w.a.title},n),this.typeTagView(a)),m.a.createElement("div",{className:w.a.fr},m.a.createElement(T.a.Group,{size:"small"},m.a.createElement(T.a,{icon:"plus",title:s.add,disabled:!("object"===a||"array"===a),onClick:D()(r=this.handleOpenAddDrawerClick).call(r,this,e)}),m.a.createElement(T.a,{icon:"edit",title:s.edit,onClick:D()(i=this.handleOpenEditDrawerClick).call(i,this,e)}),m.a.createElement(T.a,{type:"danger",icon:"delete",title:s.delete,disabled:t,onClick:D()(o=this.handleDeleteItemClick).call(o,this,e)}))))},this.infoTableView(e)))],p=[];if("object"===a&&e.properties)for(var d in e.properties)p.push(this.collapseListView(e.properties[d]));else"array"===a&&e.items&&p.push(this.collapseListView(e.items));return p.length>0&&l.push(m.a.createElement("div",{key:"children",className:w.a.children},p)),l}},{key:"render",value:function(){var e,t,r=this.state,i=r.schemaJson,o=r.isAddDrawerDisplay,a=r.isEditDrawerDisplay,n=r.addItem,s=r.editItem,l=K()(i).length;return m.a.createElement(u.Fragment,null,m.a.createElement("div",{className:w.a.collapse},0===l?null:this.collapseListView(i,!0)),m.a.createElement(ce,{item:n,visible:o,onOk:this.handleOkAddDrawerClick,onCancel:D()(e=this.handleCloseDrawerClick).call(e,this,"addItem","isAddDrawerDisplay")}),m.a.createElement(be,{item:s,visible:a,onOk:this.handleOkEditDrawerClick,onCancel:D()(t=this.handleCloseDrawerClick).call(t,this,"editItem","isEditDrawerDisplay")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.schemaJson!==t.schemaJson?{schemaJson:e.schemaJson}:null}}]),t}(u.Component),Object(c.a)($e,"contextType",_.b),Object(c.a)($e,"propTypes",{schemaJson:L.a.object,actions:L.a.objectOf(L.a.func)}),me=ye))||me;var fe,ve,Oe,je=function(){return m.a.createElement(_.b.Consumer,null,function(e){var t=e.languagePack.createForm;return[m.a.createElement("p",{key:"introduction"},t.introduction),m.a.createElement(k.a,{key:"row",type:"flex",gutter:10},m.a.createElement(C.a,{className:w.a.mediaMb10,xs:24,sm:24,md:8},m.a.createElement(U,null)),m.a.createElement(C.a,{xs:24,sm:24,md:16},m.a.createElement(ge,null)))]})},xe=Object(h.a)(x)((Oe=ve=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.context.languagePack.createForm;return[m.a.createElement(b.a,{key:"helmet"},m.a.createElement("title",null,e.title)),m.a.createElement($.c,{key:"main"},m.a.createElement($.a,{path:"/CreateForm",component:je,exact:!0}))]}}]),t}(u.Component),Object(c.a)(ve,"contextType",_.b),fe=Oe))||fe;t.default=xe}}]);