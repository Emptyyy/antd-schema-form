(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{522:function(e,t,r){"use strict";t.a=function(e){return e}},523:function(e,t,r){"use strict";t.a=function(e){return"function"==typeof e}},524:function(e,t,r){e.exports={mb10:"_24fr0",tools:"_2nNLy",mr10:"_BvgME",collapse:"_361_1",fl:"_2T7MO",title:"_1keLZ",fr:"_1eBus",info:"__L1eh",children:"__lB4U",typeSelect:"_3defO"}},525:function(e,t,r){"use strict";r(26),r(529)},526:function(e,t,r){"use strict";var n=r(1),o=r.n(n),i=r(22),a=r.n(i),l=r(23),s=r.n(l),c=r(3),p=r.n(c),u=r(5),d=r.n(u),m=r(14),y=r.n(m),f=r(4),b=r.n(f),v=r(6),h=r.n(v),g=r(0),$=r.n(g),O=r(9),j=r.n(O),C=r(32),E=r(92),k=r(2),w=r.n(k),x=function(e){function t(){var e,r,n,o;d()(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=b()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.close=function(){n.clearCloseTimer(),n.props.onClose()},n.startCloseTimer=function(){n.props.duration&&(n.closeTimer=setTimeout(function(){n.close()},1e3*n.props.duration))},n.clearCloseTimer=function(){n.closeTimer&&(clearTimeout(n.closeTimer),n.closeTimer=null)},o=r,b()(n,o)}return h()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.update)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e,t=this.props,r=t.prefixCls+"-notice",n=(e={},s()(e,""+r,1),s()(e,r+"-closable",t.closable),s()(e,t.className,!!t.className),e);return o.a.createElement("div",{className:w()(n),style:t.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:t.onClick},o.a.createElement("div",{className:r+"-content"},t.children),t.closable?o.a.createElement("a",{tabIndex:"0",onClick:this.close,className:r+"-close"},t.closeIcon||o.a.createElement("span",{className:r+"-close-x"})):null)}}]),t}(n.Component);x.propTypes={duration:$.a.number,onClose:$.a.func,children:$.a.any,update:$.a.bool,closeIcon:$.a.node},x.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var S=x,T=0,D=Date.now();var N=function(e){function t(){var e,r,n,o;d()(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=b()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={notices:[]},n.add=function(e){var t=e.key=e.key||"rcNotification_"+D+"_"+T++,r=n.props.maxCount;n.setState(function(n){var o=n.notices,i=o.map(function(e){return e.key}).indexOf(t),a=o.concat();return-1!==i?a.splice(i,1,e):(r&&o.length>=r&&(e.updateKey=a[0].updateKey||a[0].key,a.shift()),a.push(e)),{notices:a}})},n.remove=function(e){n.setState(function(t){return{notices:t.notices.filter(function(t){return t.key!==e})}})},o=r,b()(n,o)}return h()(t,e),y()(t,[{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"render",value:function(){var e,t=this,r=this.props,n=this.state.notices,i=n.map(function(e,i){var a=Boolean(i===n.length-1&&e.updateKey),l=e.updateKey?e.updateKey:e.key,s=Object(E.a)(t.remove.bind(t,e.key),e.onClose);return o.a.createElement(S,p()({prefixCls:r.prefixCls},e,{key:l,update:a,onClose:s,onClick:e.onClick,closeIcon:r.closeIcon}),e.content)}),a=(e={},s()(e,r.prefixCls,1),s()(e,r.className,!!r.className),e);return o.a.createElement("div",{className:w()(a),style:r.style},o.a.createElement(C.a,{transitionName:this.getTransitionName()},i))}}]),t}(n.Component);N.propTypes={prefixCls:$.a.string,transitionName:$.a.string,animation:$.a.oneOfType([$.a.string,$.a.object]),style:$.a.object,maxCount:$.a.number,closeIcon:$.a.node},N.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},N.newInstance=function(e,t){var r=e||{},n=r.getContainer,i=a()(r,["getContainer"]),l=document.createElement("div");n?n().appendChild(l):document.body.appendChild(l);var s=!1;j.a.render(o.a.createElement(N,p()({},i,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){j.a.unmountComponentAtNode(l),l.parentNode.removeChild(l)}}))}})),l)};var J,A,q,V,M=N,I=r(7),_=3,P=1,R="ant-message",L="move-up";var F={open:function(e){var t=void 0!==e.duration?e.duration:_,r={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle",loading:"loading"}[e.type],o=P++,i=new Promise(function(i){var a=function(){return"function"==typeof e.onClose&&e.onClose(),i(!0)};!function(e){A?e(A):M.newInstance({prefixCls:R,transitionName:L,style:{top:J},getContainer:q,maxCount:V},function(t){A?e(A):(A=t,e(t))})}(function(i){var l=n.createElement(I.a,{type:r,theme:"loading"===r?"outlined":"filled"});i.notice({key:o,duration:t,style:{},content:n.createElement("div",{className:"".concat(R,"-custom-content").concat(e.type?" ".concat(R,"-").concat(e.type):"")},e.icon?e.icon:r?l:"",n.createElement("span",null,e.content)),onClose:a})})}),a=function(){A&&A.removeNotice(o)};return a.then=function(e,t){return i.then(e,t)},a.promise=i,a},config:function(e){void 0!==e.top&&(J=e.top,A=null),void 0!==e.duration&&(_=e.duration),void 0!==e.prefixCls&&(R=e.prefixCls),void 0!==e.getContainer&&(q=e.getContainer),void 0!==e.transitionName&&(L=e.transitionName,A=null),void 0!==e.maxCount&&(V=e.maxCount,A=null)},destroy:function(){A&&(A.destroy(),A=null)}};["success","info","warning","error","loading"].forEach(function(e){F[e]=function(t,r,n){return"function"==typeof r&&(n=r,r=void 0),F.open({content:t,duration:r,type:e,onClose:n})}}),F.warn=F.warning;t.a=F},527:function(e,t,r){"use strict";function n(e,t){return e===t}r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var o=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=0,a=n.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var r=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}(n),s=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(r)),c=e(function(){for(var e=[],t=l.length,r=0;r<t;r++)e.push(l[r].apply(null,arguments));return s.apply(null,e)});return c.resultFunc=a,c.dependencies=l,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,o=null;return function(){return function(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}(t,r,arguments)||(o=e.apply(null,arguments)),r=arguments,o}});function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){return e[r[n]]=t,e},{})})}},528:function(e,t,r){"use strict";var n=r(16),o=r(17),i=r(18),a=r(19),l=r(20),s=r(15),c=r(11),p=r(1),u=r.n(p),d=r(0),m=r.n(d);t.a=function(e){return function(t){var r,d;return d=r=function(r){function c(){var t,r,o;Object(n.a)(this,c),o=Object(i.a)(this,Object(a.a)(c).apply(this,arguments));var l=(null===(t=Object(s.a)(Object(s.a)(o)))||void 0===t?void 0:null===(r=t.props)||void 0===r?void 0:r.injectReducers)||null;return l&&l(e),o}return Object(l.a)(c,r),Object(o.a)(c,[{key:"render",value:function(){return u.a.createElement(t,null)}}]),c}(p.Component),Object(c.a)(r,"propTypes",{injectReducers:m.a.func}),d}}},529:function(e,t,r){},530:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r(525);var n=r(526);function o(e,t){var r=document.createRange();r.selectNode(document.getElementById(e));var o=window.getSelection();o.rangeCount>0&&o.removeAllRanges(),o.addRange(r),document.execCommand("copy"),n.a.info("已复制到剪贴板。")}},532:function(e,t,r){var n=r(58),o=r(533)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},533:function(e,t,r){var n=r(80),o=r(79),i=r(115).f;e.exports=function(e){return function(t){for(var r,a=o(t),l=n(a),s=l.length,c=0,p=[];s>c;)i.call(a,r=l[c++])&&p.push(e?[r,a[r]]:a[r]);return p}}},534:function(e){e.exports={id:"$root",type:"object",title:"string类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$required:{id:"$root/properties/$required",type:"boolean",title:"值必须存在"},$requiredMessage:{id:"$root/properties/$requiredMessage",type:"string",title:"自定义$required的验证提示信息"},pattern:{id:"$root/properties/pattern",type:"string",title:"正则表达式验证"},$patternOption:{id:"$root/properties/$patternOption",type:"string",title:"指定全局匹配、区分大小写的匹配和多行匹配"},$patternMessage:{id:"$root/properties/$patternMessage",type:"string",title:"自定义pattern的验证失败提示信息"},minLength:{id:"$root/properties/minLength",type:"number",title:"字符串的最小长度验证"},$minLengthMessage:{id:"$root/properties/$minLengthMessage",type:"string",title:"自定义minLength的验证失败提示信息"},maxLength:{id:"$root/properties/maxLength",type:"number",title:"字符串的最大长度验证"},$maxLengthMessage:{id:"$root/properties/$maxLengthMessage",type:"string",title:"自定义maxLength的验证失败提示信息"},$length:{id:"$root/properties/$length",type:"number",title:"字符串的指定长度验证"},$lengthMessage:{id:"$root/properties/$lengthMessage",type:"string",title:"自定义$length的验证失败提示信息"},enum:{id:"$root/properties/enum",type:"array",title:"验证表单控件的值必须在此关键字的数组值中",items:{id:"$root/properties/enum/items",type:"string",title:"关键值",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"自定义enum的验证失败信息"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"表单控件只读"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"表单控件的placeholder属性"},$defaultValue:{id:"$root/properties/$defaultValue",type:"string",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"文本域",value:"textArea"},{label:"下拉框",value:"select"},{label:"单选框",value:"radio"},{label:"日期选择器",value:"date"},{label:"文件上传",value:"upload"},{label:"密码输入",value:"password"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"值",$required:!0}}}}}}},535:function(e){e.exports={id:"$root",type:"object",title:"number类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$required:{id:"$root/properties/$required",type:"boolean",title:"值必须存在"},minimum:{id:"$root/properties/minimum",type:"number",title:"表单的最小值"},$minimumMessage:{id:"$root/properties/$minimumMessage",type:"string",title:"自定义minimum的验证失败提示信息"},maximum:{id:"$root/properties/maximum",type:"number",title:"表单的最大值"},$maximumMessage:{id:"$root/properties/$maximumMessage",type:"string",title:"自定义maximum的验证失败提示信息"},$integer:{id:"$root/properties/$integer",type:"boolean",title:"必须是整数"},$integerMessage:{id:"$root/properties/$integerMessage",type:"string",title:"自定义$integer的验证失败提示信息"},enum:{id:"$root/properties/enum",type:"array",title:"验证表单控件的值必须在此关键字的数组值中",items:{id:"$root/properties/enum/items",type:"number",title:"关键值",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"自定义enum的验证失败信息"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"表单控件只读"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"表单控件的placeholder属性"},$defaultValue:{id:"$root/properties/$defaultValue",type:"number",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"单选框",value:"radio"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"number",title:"值",$required:!0}}}}}}},536:function(e){e.exports={id:"$root",type:"object",title:"boolean类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$defaultValue:{id:"$root/properties/$defaultValue",type:"boolean",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"开关",value:"switch"}]}}}},537:function(e){e.exports={id:"$root",type:"object",title:"boolean类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},required:{id:"$root/properties/required",type:"array",title:"对象必须包含的属性",items:{id:"$root/properties/required/items",type:"string",title:"对象必须包含的属性",$required:!0}}}}},538:function(e){e.exports={id:"$root",type:"object",title:"array类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"多选框",value:"checkbox"},{label:"下拉框的多选模式",value:"multiple"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"值",$required:!0}}}}}}},540:function(e,t,r){"use strict";var n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="function"!=typeof t[t.length-1]&&t.pop(),o=t;if(void 0===n)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var l=void 0===e,s=void 0===t;return l&&s&&n?n:o.reduce(function(e,r){return r.apply(void 0,[e,t].concat(i))},l&&!s&&n?n:e)}},o=r(78),i=r.n(o),a=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},l=function(e){return"undefined"!=typeof Map&&e instanceof Map};function s(e){if(l(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}var c="||";function p(e,t){return l(t)?t.get(e):t[e]}var u,d=(u=function(e){return(a(e)||l(e))&&(t=s(e),r=t.every(function(e){return"next"===e||"throw"===e}),!(t.length&&t.length<=2&&r));var t,r},function e(t,r,n,o){var i=void 0===r?{}:r,a=i.namespace,l=void 0===a?"/":a,d=i.prefix;return void 0===n&&(n={}),void 0===o&&(o=""),s(t).forEach(function(r){var i=function(e){return o||!d?e:""+d+l+e}(function(e){var t;if(!o)return e;var r=e.toString().split(c),n=o.split(c);return(t=[]).concat.apply(t,n.map(function(e){return r.map(function(t){return""+e+l+t})})).join(c)}(r)),a=p(r,t);u(a)?e(a,{namespace:l,prefix:d},n,i):n[i]=a}),n}),m=r(523),y=r(522),f=function(e){return null==e},b=function(e){return void 0===e},v=function(e){return e.toString()};function h(e,t,r){void 0===r&&(r={}),i()(a(e)||l(e),"Expected handlers to be a plain object.");var o=d(e,r),u=s(o).map(function(e){return function(e,t,r){void 0===t&&(t=y.a);var n=v(e).split(c);i()(!b(r),"defaultState for reducer handling "+n.join(", ")+" should be defined"),i()(Object(m.a)(t)||a(t),"Expected reducer to be a function or object with next and throw reducers");var o=Object(m.a)(t)?[t,t]:[t.next,t.throw].map(function(e){return f(e)?y.a:e}),l=o[0],s=o[1];return function(e,t){void 0===e&&(e=r);var o=t.type;return o&&-1!==n.indexOf(v(o))?(!0===t.error?s:l)(e,t):e}}(e,p(e,o),t)}),h=n.apply(void 0,u.concat([t]));return function(e,r){return void 0===e&&(e=t),h(e,r)}}r.d(t,"a",function(){return h})},541:function(e,t,r){"use strict";var n=r(78),o=r.n(n),i=r(523),a=r(522),l=function(e){return null===e};function s(e,t,r){void 0===t&&(t=a.a),o()(Object(i.a)(t)||l(t),"Expected payloadCreator to be a function, undefined or null");var n=l(t)||t===a.a?a.a:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e instanceof Error?e:t.apply(void 0,[e].concat(n))},s=Object(i.a)(r),c=e.toString(),p=function(){var t=n.apply(void 0,arguments),o={type:e};return t instanceof Error&&(o.error=!0),void 0!==t&&(o.payload=t),s&&(o.meta=r.apply(void 0,arguments)),o};return p.toString=function(){return c},p}r.d(t,"a",function(){return s})},542:function(e,t,r){"use strict";r.r(t);var n,o,i,a=r(16),l=r(17),s=r(18),c=r(19),p=r(20),u=r(1),d=r.n(u),m=r(75),y=r(198),f=r.n(y),b=r(528),v=r(11),h=r(541),g=r(540),$=r(105),O={schemaJson:Object($.Map)({id:"$root",type:"object",title:"$root",properties:{}})},j=Object(h.a)("表单生成-schemaJson"),C={createForm:Object(g.a)(Object(v.a)({},j,function(e,t){return e.set("schemaJson",Object($.Map)(t.payload))}),Object($.fromJS)(O))},E=(r(280),r(200)),k=(r(281),r(185)),w=r(524),x=r.n(w),S=(r(70),r(54)),T=(r(57),r(24)),D=(r(525),r(526)),N=r(15),J=r(0),A=r.n(J),q=r(89),V=r(527),M=r(196),I=r(530),_=Object(V.b)({schemaJson:Object(V.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return null!==e?e.get("schemaJson").toJS():{}})}),P=Object(M.b)(_,function(e){return{action:Object(q.b)({setSchemaJson:j},e)}})((i=o=function(e){function t(){var e;Object(a.a)(this,t),e=Object(s.a)(this,Object(c.a)(t).apply(this,arguments)),Object(v.a)(Object(N.a)(Object(N.a)(e)),"state",void 0),Object(v.a)(Object(N.a)(Object(N.a)(e)),"handleInputTextAreaChange",function(t){e.setState({textAreaValue:t.target.value})}),Object(v.a)(Object(N.a)(Object(N.a)(e)),"handleRedoJsonSchema",function(t){var r=e.state.textAreaValue,n=e.props.action,o=null;try{o=JSON.parse(r),n.setSchemaJson(o)}catch(e){D.a.error("JSON格式错误！")}});var r=e.props.schemaJson;return e.state={schemaJson:r,textAreaValue:JSON.stringify(r,null,2)},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.textAreaValue;return d.a.createElement(u.Fragment,null,d.a.createElement("div",{className:x.a.tools},d.a.createElement(T.a,{className:x.a.mr10,icon:"copy",onClick:I.a.bind(this,"jsonSchemaTextArea")},"复制"),d.a.createElement(T.a,{icon:"redo",onClick:this.handleRedoJsonSchema},"刷新表单配置")),d.a.createElement(S.a.TextArea,{id:"jsonSchemaTextArea",rows:20,value:e,onChange:this.handleInputTextAreaChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.schemaJson!==t.schemaJson){var r=e.schemaJson;return{schemaJson:r,textAreaValue:JSON.stringify(r,null,2)}}return null}}]),t}(u.Component),Object(v.a)(o,"propTypes",{schemaJson:A.a.object,action:A.a.objectOf(A.a.func)}),n=i))||n,R=(r(148),r(197),r(532),r(285),r(186)),L=(r(199),r(135)),F=(r(286),r(258)),K=(r(283),r(90)),B=r(42);function U(e,t){if(null==e)return{};var r,n,o=Object(B.a)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var z={string:r(534),number:r(535),boolean:r(536),object:r(537),array:r(538)},G=(r(282),r(201)),W=(r(147),r(49)),Z=r(195),H=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o))),Object(v.a)(Object(N.a)(Object(N.a)(r)),"formRef",Object(u.createRef)()),Object(v.a)(Object(N.a)(Object(N.a)(r)),"state",{typeValue:null,value:null,item:null}),Object(v.a)(Object(N.a)(Object(N.a)(r)),"handleTypeSelect",function(e,t){r.setState({typeValue:e},function(){r.formRef.current.setFieldsValue({"$root/properties/type":e})})}),r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,n=e.onCancel,o=e.item,i=this.state,a=i.typeValue,l=i.value;return null!==a&&(z[a].properties.id.$readOnly=o&&"array"===o.type),d.a.createElement(G.a,{visible:t,width:700,destroyOnClose:!0,onClose:n},d.a.createElement("div",{className:x.a.tools},d.a.createElement("label",null,"选择变量类型："),d.a.createElement(W.a,{className:x.a.typeSelect,value:a,onSelect:this.handleTypeSelect},d.a.createElement(W.a.Option,{key:"string",value:"string"},"字符串（string）"),d.a.createElement(W.a.Option,{key:"number",value:"number"},"数字（number）"),d.a.createElement(W.a.Option,{key:"boolean",value:"boolean"},"布尔（boolean）"),d.a.createElement(W.a.Option,{key:"array",value:"array"},"数组（array）"),d.a.createElement(W.a.Option,{key:"object",value:"object"},"对象（object）"))),a?d.a.createElement(Z.a,{ref:this.formRef,json:z[a],value:l,onOk:r,onCancel:n}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.visible?{typeValue:null}:e.item&&!0===e.visible&&e.item!==t.item?{value:{$root:{id:"array"===e.item.type?"items":null}},item:e.item}:null}}]),t}(u.Component);Object(v.a)(H,"propTypes",{item:A.a.object,visible:A.a.bool,onOk:A.a.func,onCancel:A.a.func});var Q=H,X=(r(287),function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o))),Object(v.a)(Object(N.a)(Object(N.a)(r)),"formRef",Object(u.createRef)()),Object(v.a)(Object(N.a)(Object(N.a)(r)),"state",{typeValue:null,value:null,item:null}),Object(v.a)(Object(N.a)(Object(N.a)(r)),"handleTypeSelect",function(e,t){r.setState({typeValue:e},function(){r.formRef.current.setFieldsValue({"$root/properties/type":e})})}),r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,n=e.onCancel,o=this.state,i=o.typeValue,a=o.value;return null!==i&&(z[i].properties.id.$readOnly=!0),d.a.createElement(G.a,{visible:t,width:700,destroyOnClose:!0,onClose:n},d.a.createElement("div",{className:x.a.tools},d.a.createElement("label",null,"选择变量类型："),d.a.createElement(W.a,{className:x.a.typeSelect,value:i,onSelect:this.handleTypeSelect},d.a.createElement(W.a.Option,{key:"string",value:"string"},"字符串（string）"),d.a.createElement(W.a.Option,{key:"number",value:"number"},"数字（number）"),d.a.createElement(W.a.Option,{key:"boolean",value:"boolean"},"布尔（boolean）"),d.a.createElement(W.a.Option,{key:"array",value:"array"},"数组（array）"),d.a.createElement(W.a.Option,{key:"object",value:"object"},"对象（object）"))),i?d.a.createElement(Z.a,{ref:this.formRef,json:z[i],value:a,onOk:r,onCancel:n}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!1===e.visible)return{typeValue:null};if(e.item&&!0===e.visible&&e.item!==t.item){var r=e.item.id.split("/");return{typeValue:e.item.type,value:{$root:Object(K.a)({},e.item,{id:r[r.length-1]})},item:e.item}}return null}}]),t}(u.Component));Object(v.a)(X,"propTypes",{item:A.a.object,visible:A.a.bool,onOk:A.a.func,onCancel:A.a.func});var Y,ee,te,re,ne=X,oe=Object(V.b)({schemaJson:Object(V.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return null!==e?e.get("schemaJson").toJS():{}})}),ie=Object(M.b)(oe,function(e){return{action:Object(q.b)({setSchemaJson:j},e)}})((te=ee=function(e){function t(){var e;Object(a.a)(this,t),e=Object(s.a)(this,Object(c.a)(t).apply(this,arguments)),Object(v.a)(Object(N.a)(Object(N.a)(e)),"state",void 0),Object(v.a)(Object(N.a)(Object(N.a)(e)),"handleOkAddDrawerClick",function(t,r,n){var o=e.state,i=o.schemaJson,a=o.addItem,l=r.$root,s=l.id,c=U(l,["id"]);"object"===a.type?("properties"in a||(a.properties={}),a.properties[s]=Object(K.a)({id:"".concat(a.id,"/properties/").concat(s)},c)):"array"===a.type&&(a.items=Object(K.a)({id:"".concat(a.id,"/items")},c)),e.props.action.setSchemaJson(i),e.setState({isAddDrawerDisplay:!1,addItem:null})}),Object(v.a)(Object(N.a)(Object(N.a)(e)),"handleOkEditDrawerClick",function(t,r,n){var o=e.state,i=o.schemaJson,a=o.editItem,l=r.$root,s=(l.id,U(l,["id"]));"object"===a.type?delete a.items:"array"===a.type&&delete a.properties,Object.assign(a,s),e.props.action.setSchemaJson(i),e.setState({isEditDrawerDisplay:!1,editItem:null})});var r=e.props.schemaJson;return e.state={schemaJson:r,isAddDrawerDisplay:!1,isEditDrawerDisplay:!1,addItem:null,editItem:null},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleCloseDrawerClick",value:function(e,t,r){var n;this.setState((n={},Object(v.a)(n,e,null),Object(v.a)(n,t,!1),n))}},{key:"handleOpenAddDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isAddDrawerDisplay:!0,addItem:e})}},{key:"handleOpenEditDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isEditDrawerDisplay:!0,editItem:e})}},{key:"findAndDelete",value:function(e,t,r,n){if(t.id!==e)if("object"!==t.type)"array"!==t.type||this.findAndDelete(e,t.items,t,"items");else for(var o in t.properties)this.findAndDelete(e,t.properties[o],t.properties,o);else delete r[n]}},{key:"handleDeleteItemClick",value:function(e,t){t.stopPropagation();var r=e.id,n=this.state.schemaJson;this.findAndDelete(r,n),this.props.action.setSchemaJson(n)}},{key:"typeTagView",value:function(e){switch(e){case"object":return d.a.createElement(F.a,{color:"magenta"},"object");case"array":return d.a.createElement(F.a,{color:"red"},"array");case"string":return d.a.createElement(F.a,{color:"blue"},"string");case"number":return d.a.createElement(F.a,{color:"purple"},"number");case"boolean":return d.a.createElement(F.a,{color:"orange"},"boolean");default:return null}}},{key:"infoTableView",value:function(e){var t=[],r=e.type;for(var n in z[r].properties)if(n in e){var o=e[n];if(null==o)continue;"boolean"==typeof o?o=String(o):"object"===Object(L.a)(o)&&(o=Object.prototype.toString.call(o)),t.push(d.a.createElement("tr",{key:n},d.a.createElement("th",null,n),d.a.createElement("td",null,o)))}return d.a.createElement("table",{className:x.a.info},d.a.createElement("tbody",null,t))}},{key:"collapseListView",value:function(e,t){var r=e.type,n=e.title,o=[d.a.createElement(R.a,{key:"collapse",bordered:!1},d.a.createElement(R.a.Panel,{header:d.a.createElement("div",{className:"clearfix"},d.a.createElement("div",{className:x.a.fl},d.a.createElement("b",{className:x.a.title},n),this.typeTagView(r)),d.a.createElement("div",{className:x.a.fr},d.a.createElement(T.a.Group,{size:"small"},d.a.createElement(T.a,{icon:"plus",title:"添加",disabled:!("object"===r||"array"===r),onClick:this.handleOpenAddDrawerClick.bind(this,e)}),d.a.createElement(T.a,{icon:"edit",title:"编辑",onClick:this.handleOpenEditDrawerClick.bind(this,e)}),d.a.createElement(T.a,{type:"danger",icon:"delete",title:"删除",disabled:t,onClick:this.handleDeleteItemClick.bind(this,e)}))))},this.infoTableView(e)))],i=[];if("object"===r&&e.properties)for(var a in e.properties)i.push(this.collapseListView(e.properties[a]));else"array"===r&&e.items&&i.push(this.collapseListView(e.items));return i.length>0&&o.push(d.a.createElement("div",{key:"children",className:x.a.children},i)),o}},{key:"render",value:function(){var e=this.state,t=e.schemaJson,r=e.isAddDrawerDisplay,n=e.isEditDrawerDisplay,o=e.addItem,i=e.editItem,a=Object.values(t).length;return d.a.createElement(u.Fragment,null,d.a.createElement("div",{className:x.a.collapse},0===a?null:this.collapseListView(t,!0)),d.a.createElement(Q,{item:o,visible:r,onOk:this.handleOkAddDrawerClick,onCancel:this.handleCloseDrawerClick.bind(this,"addItem","isAddDrawerDisplay")}),d.a.createElement(ne,{item:i,visible:n,onOk:this.handleOkEditDrawerClick,onCancel:this.handleCloseDrawerClick.bind(this,"editItem","isEditDrawerDisplay")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.schemaJson!==t.schemaJson?{schemaJson:e.schemaJson}:null}}]),t}(u.Component),Object(v.a)(ee,"propTypes",{schemaJson:A.a.object,action:A.a.objectOf(A.a.func)}),Y=te))||Y,ae=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return d.a.createElement(u.Fragment,null,d.a.createElement("p",null,"你可以通过配置功能来配置一个表单。"),d.a.createElement(E.a,{type:"flex",gutter:10},d.a.createElement(k.a,{className:x.a.mb10,xs:24,sm:24,md:8},d.a.createElement(P,null)),d.a.createElement(k.a,{xs:24,sm:24,md:16},d.a.createElement(ie,null))))}}]),t}(u.Component),le=Object(b.a)(C)(re=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return[d.a.createElement(f.a,{key:"helmet"},d.a.createElement("title",null,"表单生成")),d.a.createElement(m.c,{key:"main"},d.a.createElement(m.a,{path:"/CreateForm",component:ae,exact:!0}))]}}]),t}(u.Component))||re;t.default=le}}]);