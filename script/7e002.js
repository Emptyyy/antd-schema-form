(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{535:function(e,t,r){e.exports={mb10:"_24fr0",tools:"_2nNLy",mr10:"_BvgME",collapse:"_361_1",fl:"_2T7MO",title:"_1keLZ",fr:"_1eBus",info:"__L1eh",children:"__lB4U",typeSelect:"_3defO"}},545:function(e,t,r){var o=r(47),n=r(546)(!1);o(o.S,"Object",{values:function(e){return n(e)}})},546:function(e,t,r){var o=r(77),n=r(78),i=r(118).f;e.exports=function(e){return function(t){for(var r,a=n(t),l=o(a),p=l.length,s=0,c=[];p>s;)i.call(a,r=l[s++])&&c.push(e?[r,a[r]]:a[r]);return c}}},547:function(e){e.exports={id:"$root",type:"object",title:"string类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$required:{id:"$root/properties/$required",type:"boolean",title:"值必须存在"},$requiredMessage:{id:"$root/properties/$requiredMessage",type:"string",title:"自定义$required的验证提示信息"},pattern:{id:"$root/properties/pattern",type:"string",title:"正则表达式验证"},$patternOption:{id:"$root/properties/$patternOption",type:"string",title:"指定全局匹配、区分大小写的匹配和多行匹配"},$patternMessage:{id:"$root/properties/$patternMessage",type:"string",title:"自定义pattern的验证失败提示信息"},minLength:{id:"$root/properties/minLength",type:"number",title:"字符串的最小长度验证"},$minLengthMessage:{id:"$root/properties/$minLengthMessage",type:"string",title:"自定义minLength的验证失败提示信息"},maxLength:{id:"$root/properties/maxLength",type:"number",title:"字符串的最大长度验证"},$maxLengthMessage:{id:"$root/properties/$maxLengthMessage",type:"string",title:"自定义maxLength的验证失败提示信息"},$length:{id:"$root/properties/$length",type:"number",title:"字符串的指定长度验证"},$lengthMessage:{id:"$root/properties/$lengthMessage",type:"string",title:"自定义$length的验证失败提示信息"},enum:{id:"$root/properties/enum",type:"array",title:"验证表单控件的值必须在此关键字的数组值中",items:{id:"$root/properties/enum/items",type:"string",title:"关键值",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"自定义enum的验证失败信息"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"表单控件只读"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"表单控件的placeholder属性"},$defaultValue:{id:"$root/properties/$defaultValue",type:"string",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"文本域",value:"textArea"},{label:"下拉框",value:"select"},{label:"单选框",value:"radio"},{label:"日期选择器",value:"date"},{label:"文件上传",value:"upload"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"值",$required:!0}}}}}}},548:function(e){e.exports={id:"$root",type:"object",title:"number类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$required:{id:"$root/properties/$required",type:"boolean",title:"值必须存在"},minimum:{id:"$root/properties/minimum",type:"number",title:"表单的最小值"},$minimumMessage:{id:"$root/properties/$minimumMessage",type:"string",title:"自定义minimum的验证失败提示信息"},maximum:{id:"$root/properties/maximum",type:"number",title:"表单的最大值"},$maximumMessage:{id:"$root/properties/$maximumMessage",type:"string",title:"自定义maximum的验证失败提示信息"},$integer:{id:"$root/properties/$integer",type:"boolean",title:"必须是整数"},$integerMessage:{id:"$root/properties/$integerMessage",type:"string",title:"自定义$integer的验证失败提示信息"},enum:{id:"$root/properties/enum",type:"array",title:"验证表单控件的值必须在此关键字的数组值中",items:{id:"$root/properties/enum/items",type:"number",title:"关键值",$required:!0}},$enumMessage:{id:"$root/properties/$enumMessage",type:"string",title:"自定义enum的验证失败信息"},$readOnly:{id:"$root/properties/$readOnly",type:"boolean",title:"表单控件只读"},$placeholder:{id:"$root/properties/$placeholder",type:"string",title:"表单控件的placeholder属性"},$defaultValue:{id:"$root/properties/$defaultValue",type:"number",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"单选框",value:"radio"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"number",title:"值",$required:!0}}}}}}},549:function(e){e.exports={id:"$root",type:"object",title:"boolean类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$defaultValue:{id:"$root/properties/$defaultValue",type:"boolean",title:"表单的默认值"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"开关",value:"switch"}]}}}},550:function(e){e.exports={id:"$root",type:"object",title:"boolean类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},required:{id:"$root/properties/required",type:"array",title:"对象必须包含的属性",items:{id:"$root/properties/required/items",type:"string",title:"对象必须包含的属性",$required:!0}}}}},551:function(e){e.exports={id:"$root",type:"object",title:"array类型",properties:{id:{id:"$root/properties/id",type:"string",title:"当前属性的id",$required:!0},type:{id:"$root/properties/type",type:"string",title:"数据类型",$required:!0,$readOnly:!0},title:{id:"$root/properties/title",type:"string",title:"标题，用于描述关键字的作用",$required:!0},description:{id:"$root/properties/description",type:"string",title:"说明，用于描述关键字的作用"},$componentType:{id:"$root/properties/$componentType",type:"string",title:"渲染为其他组件",$componentType:"select",$options:[{label:"多选框",value:"checkbox"},{label:"下拉框的多选模式",value:"multiple"}]},$options:{id:"$root/properties/$options",type:"array",title:"可选的选项",items:{id:"$root/properties/$options/items",type:"object",title:"可选的选项",properties:{label:{id:"$root/properties/$options/items/properties/label",type:"string",title:"显示的文字",$required:!0},value:{id:"$root/properties/$options/items/properties/value",type:"string",title:"值",$required:!0}}}}}}},554:function(e,t,r){"use strict";r.r(t);r(28),r(29),r(34);var o=r(1),n=r.n(o),i=r(73),a=r(200),l=r.n(a),p=r(539),s=r(556),c=r(553),u=r(108);var y,f,m,d,b,h,$={schemaJson:Object(u.Map)({id:"$root",type:"object",title:"$root",properties:{}})},g=Object(s.a)("表单生成-schemaJson"),v={createForm:Object(c.a)((m=function(e,t){return e.set("schemaJson",Object(u.Map)(t.payload))},(f=g)in(y={})?Object.defineProperty(y,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):y[f]=m,y),Object(u.fromJS)($))},O=(r(290),r(201)),j=(r(291),r(188)),w=r(535),E=r.n(w),S=(r(76),r(90)),k=(r(65),r(18)),_=(r(536),r(538)),P=r(0),C=r.n(P),D=r(88),x=r(537),J=r(198),T=r(542);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=Object(x.b)({schemaJson:Object(x.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return null!==e?e.get("schemaJson").toJS():{}})}),R=Object(J.b)(L,function(e){return{action:Object(D.b)({setSchemaJson:g},e)}})((h=b=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=A(t).apply(this,arguments),e=!o||"object"!==q(o)&&"function"!=typeof o?N(r):o,I(N(N(e)),"state",void 0),I(N(N(e)),"handleInputTextAreaChange",function(t){e.setState({textAreaValue:t.target.value})}),I(N(N(e)),"handleRedoJsonSchema",function(t){var r=e.state.textAreaValue,o=e.props.action,n=null;try{n=JSON.parse(r),o.setSchemaJson(n)}catch(e){_.a.error("JSON格式错误！")}});var n=e.props.schemaJson;return e.state={schemaJson:n,textAreaValue:JSON.stringify(n,null,2)},e}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,o["Component"]),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.schemaJson!==t.schemaJson){var r=e.schemaJson;return{schemaJson:r,textAreaValue:JSON.stringify(r,null,2)}}return null}}],(i=[{key:"render",value:function(){var e=this.state.textAreaValue;return n.a.createElement(o.Fragment,null,n.a.createElement("div",{className:E.a.tools},n.a.createElement(k.a,{className:E.a.mr10,icon:"copy",onClick:T.a.bind(this,"jsonSchemaTextArea")},"复制"),n.a.createElement(k.a,{icon:"redo",onClick:this.handleRedoJsonSchema},"刷新表单配置")),n.a.createElement(S.a.TextArea,{id:"jsonSchemaTextArea",rows:20,value:e,onChange:this.handleInputTextAreaChange}))}}])&&V(r.prototype,i),a&&V(r,a),t}(),I(b,"propTypes",{schemaJson:C.a.object,action:C.a.objectOf(C.a.func)}),d=h))||d,F=(r(147),r(100),r(117),r(545),r(294),r(189)),B=(r(149),r(295),r(268)),z=(r(199),{string:r(547),number:r(548),boolean:r(549),object:r(550),array:r(551)}),G=(r(292),r(202)),U=(r(148),r(50)),Z=r(197);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),p=0;p<a;p++)l[p]=arguments[p];return n=this,i=(e=Q(t)).call.apply(e,[this].concat(l)),r=!i||"object"!==H(i)&&"function"!=typeof i?X(n):i,Y(X(X(r)),"formRef",Object(o.createRef)()),Y(X(X(r)),"state",{typeValue:null,value:null,item:null}),Y(X(X(r)),"handleTypeSelect",function(e,t){r.setState({typeValue:e},function(){r.formRef.current.setFieldsValue({"$root/properties/type":e})})}),r}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,o["Component"]),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.visible?{typeValue:null}:e.item&&!0===e.visible&&e.item!==t.item?{value:{$root:{id:"array"===e.item.type?"items":null}},item:e.item}:null}}],(i=[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,o=e.onCancel,i=e.item,a=this.state,l=a.typeValue,p=a.value;return null!==l&&(z[l].properties.id.$readOnly=i&&"array"===i.type),n.a.createElement(G.a,{visible:t,width:700,destroyOnClose:!0,onClose:o},n.a.createElement("div",{className:E.a.tools},n.a.createElement("label",null,"选择变量类型："),n.a.createElement(U.a,{className:E.a.typeSelect,value:l,onSelect:this.handleTypeSelect},n.a.createElement(U.a.Option,{key:"string",value:"string"},"字符串（string）"),n.a.createElement(U.a.Option,{key:"number",value:"number"},"数字（number）"),n.a.createElement(U.a.Option,{key:"boolean",value:"boolean"},"布尔（boolean）"),n.a.createElement(U.a.Option,{key:"array",value:"array"},"数组（array）"),n.a.createElement(U.a.Option,{key:"object",value:"object"},"对象（object）"))),l?n.a.createElement(Z.a,{ref:this.formRef,json:z[l],value:p,onOk:r,onCancel:o}):null)}}])&&K(r.prototype,i),a&&K(r,a),t}();Y(ee,"propTypes",{item:C.a.object,visible:C.a.bool,onOk:C.a.func,onCancel:C.a.func});var te=ee;r(296);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){pe(e,t,r[t])})}return e}function ne(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),p=0;p<a;p++)l[p]=arguments[p];return n=this,i=(e=ie(t)).call.apply(e,[this].concat(l)),r=!i||"object"!==re(i)&&"function"!=typeof i?le(n):i,pe(le(le(r)),"formRef",Object(o.createRef)()),pe(le(le(r)),"state",{typeValue:null,value:null,item:null}),pe(le(le(r)),"handleTypeSelect",function(e,t){r.setState({typeValue:e},function(){r.formRef.current.setFieldsValue({"$root/properties/type":e})})}),r}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,o["Component"]),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){if(!1===e.visible)return{typeValue:null};if(e.item&&!0===e.visible&&e.item!==t.item){var r=e.item.id.split("/");return{typeValue:e.item.type,value:{$root:oe({},e.item,{id:r[r.length-1]})},item:e.item}}return null}}],(i=[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,o=e.onCancel,i=this.state,a=i.typeValue,l=i.value;return null!==a&&(z[a].properties.id.$readOnly=!0),n.a.createElement(G.a,{visible:t,width:700,destroyOnClose:!0,onClose:o},n.a.createElement("div",{className:E.a.tools},n.a.createElement("label",null,"选择变量类型："),n.a.createElement(U.a,{className:E.a.typeSelect,value:a,onSelect:this.handleTypeSelect},n.a.createElement(U.a.Option,{key:"string",value:"string"},"字符串（string）"),n.a.createElement(U.a.Option,{key:"number",value:"number"},"数字（number）"),n.a.createElement(U.a.Option,{key:"boolean",value:"boolean"},"布尔（boolean）"),n.a.createElement(U.a.Option,{key:"array",value:"array"},"数组（array）"),n.a.createElement(U.a.Option,{key:"object",value:"object"},"对象（object）"))),a?n.a.createElement(Z.a,{ref:this.formRef,json:z[a],value:l,onOk:r,onCancel:o}):null)}}])&&ne(r.prototype,i),a&&ne(r,a),t}();pe(se,"propTypes",{item:C.a.object,visible:C.a.bool,onOk:C.a.func,onCancel:C.a.func});var ce,ue,ye,fe=se;function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){Oe(e,t,r[t])})}return e}function be(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function he(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je=Object(x.b)({schemaJson:Object(x.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return null!==e?e.get("schemaJson").toJS():{}})}),we=Object(J.b)(je,function(e){return{action:Object(D.b)({setSchemaJson:g},e)}})((ye=ue=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=$e(t).apply(this,arguments),e=!o||"object"!==me(o)&&"function"!=typeof o?ve(r):o,Oe(ve(ve(e)),"state",void 0),Oe(ve(ve(e)),"handleOkAddDrawerClick",function(t,r,o){var n=e.state,i=n.schemaJson,a=n.addItem,l=r.$root,p=l.id,s=be(l,["id"]);"object"===a.type?("properties"in a||(a.properties={}),a.properties[p]=de({id:"".concat(a.id,"/properties/").concat(p)},s)):"array"===a.type&&(a.items=de({id:"".concat(a.id,"/items")},s)),e.props.action.setSchemaJson(i),e.setState({isAddDrawerDisplay:!1,addItem:null})}),Oe(ve(ve(e)),"handleOkEditDrawerClick",function(t,r,o){var n=e.state,i=n.schemaJson,a=n.editItem,l=r.$root,p=(l.id,be(l,["id"]));"object"===a.type?delete a.items:"array"===a.type&&delete a.properties,Object.assign(a,p),e.props.action.setSchemaJson(i),e.setState({isEditDrawerDisplay:!1,editItem:null})});var n=e.props.schemaJson;return e.state={schemaJson:n,isAddDrawerDisplay:!1,isEditDrawerDisplay:!1,addItem:null,editItem:null},e}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,o["Component"]),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.schemaJson!==t.schemaJson?{schemaJson:e.schemaJson}:null}}],(i=[{key:"handleCloseDrawerClick",value:function(e,t,r){var o;this.setState((Oe(o={},e,null),Oe(o,t,!1),o))}},{key:"handleOpenAddDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isAddDrawerDisplay:!0,addItem:e})}},{key:"handleOpenEditDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isEditDrawerDisplay:!0,editItem:e})}},{key:"findAndDelete",value:function(e,t,r,o){if(t.id!==e)if("object"!==t.type)"array"!==t.type||this.findAndDelete(e,t.items,t,"items");else for(var n in t.properties)this.findAndDelete(e,t.properties[n],t.properties,n);else delete r[o]}},{key:"handleDeleteItemClick",value:function(e,t){t.stopPropagation();var r=e.id,o=this.state.schemaJson;this.findAndDelete(r,o),this.props.action.setSchemaJson(o)}},{key:"typeTagView",value:function(e){switch(e){case"object":return n.a.createElement(B.a,{color:"magenta"},"object");case"array":return n.a.createElement(B.a,{color:"red"},"array");case"string":return n.a.createElement(B.a,{color:"blue"},"string");case"number":return n.a.createElement(B.a,{color:"purple"},"number");case"boolean":return n.a.createElement(B.a,{color:"orange"},"boolean");default:return null}}},{key:"infoTableView",value:function(e){var t=[],r=e.type;for(var o in z[r].properties)if(o in e){var i=e[o];if(null==i)continue;"boolean"==typeof i?i=String(i):"object"===me(i)&&(i=Object.prototype.toString.call(i)),t.push(n.a.createElement("tr",{key:o},n.a.createElement("th",null,o),n.a.createElement("td",null,i)))}return n.a.createElement("table",{className:E.a.info},n.a.createElement("tbody",null,t))}},{key:"collapseListView",value:function(e,t){var r=e.type,o=e.title,i=[n.a.createElement(F.a,{key:"collapse",bordered:!1},n.a.createElement(F.a.Panel,{header:n.a.createElement("div",{className:"clearfix"},n.a.createElement("div",{className:E.a.fl},n.a.createElement("b",{className:E.a.title},o),this.typeTagView(r)),n.a.createElement("div",{className:E.a.fr},n.a.createElement(k.a.Group,{size:"small"},n.a.createElement(k.a,{icon:"plus",title:"添加",disabled:!("object"===r||"array"===r),onClick:this.handleOpenAddDrawerClick.bind(this,e)}),n.a.createElement(k.a,{icon:"edit",title:"编辑",onClick:this.handleOpenEditDrawerClick.bind(this,e)}),n.a.createElement(k.a,{type:"danger",icon:"delete",title:"删除",disabled:t,onClick:this.handleDeleteItemClick.bind(this,e)}))))},this.infoTableView(e)))],a=[];if("object"===r&&e.properties)for(var l in e.properties)a.push(this.collapseListView(e.properties[l]));else"array"===r&&e.items&&a.push(this.collapseListView(e.items));return a.length>0&&i.push(n.a.createElement("div",{key:"children",className:E.a.children},a)),i}},{key:"render",value:function(){var e=this.state,t=e.schemaJson,r=e.isAddDrawerDisplay,i=e.isEditDrawerDisplay,a=e.addItem,l=e.editItem,p=Object.values(t).length;return n.a.createElement(o.Fragment,null,n.a.createElement("div",{className:E.a.collapse},0===p?null:this.collapseListView(t,!0)),n.a.createElement(te,{item:a,visible:r,onOk:this.handleOkAddDrawerClick,onCancel:this.handleCloseDrawerClick.bind(this,"addItem","isAddDrawerDisplay")}),n.a.createElement(fe,{item:l,visible:i,onOk:this.handleOkEditDrawerClick,onCancel:this.handleCloseDrawerClick.bind(this,"editItem","isEditDrawerDisplay")}))}}])&&he(r.prototype,i),a&&he(r,a),t}(),Oe(ue,"propTypes",{schemaJson:C.a.object,action:C.a.objectOf(C.a.func)}),ce=ye))||ce;function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ke(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce,De=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ke(this,_e(t).apply(this,arguments))}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,o["Component"]),r=t,(i=[{key:"render",value:function(){return n.a.createElement(o.Fragment,null,n.a.createElement("p",null,"你可以通过配置功能来配置一个表单。"),n.a.createElement(O.a,{type:"flex",gutter:10},n.a.createElement(j.a,{className:E.a.mb10,xs:24,sm:24,md:8},n.a.createElement(R,null)),n.a.createElement(j.a,{xs:24,sm:24,md:16},n.a.createElement(we,null))))}}])&&Se(r.prototype,i),a&&Se(r,a),t}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Te(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=Object(p.a)(v)(Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Te(this,qe(t).apply(this,arguments))}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,o["Component"]),r=t,(a=[{key:"render",value:function(){return[n.a.createElement(l.a,{key:"helmet"},n.a.createElement("title",null,"表单生成")),n.a.createElement(i.c,{key:"main"},n.a.createElement(i.a,{path:"/CreateForm",component:De,exact:!0}))]}}])&&Je(r.prototype,a),p&&Je(r,p),t}())||Ce;t.default=Ae}}]);